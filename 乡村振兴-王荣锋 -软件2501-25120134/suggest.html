<!DOCTYPE html>
<html lang="zh-CN">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>建议提案 - 莲花县乡村振兴</title>
    <link rel="stylesheet" href="common.css">
    <style>
        /* 页面独有样式 */
        .suggest-container {
            width: 96%;
            max-width: 800px;
            margin: 30px auto;
            padding: 20px;
            background-color: #fff;
            border-radius: 8px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
        }
    </style>
</head>

<body>
    <!-- 头部 -->
    <header class="header">
        <a href="index.html" class="logo">
            <img src="images/logo.png" alt="莲花县乡村振兴Logo" data-src="images/logo.png">
            <span class="logo-text">莲花县乡村振兴平台</span>
        </a>
        <div class="hamburger">
            <span></span>
            <span></span>
            <span></span>
        </div>
        <ul class="nav-list">
            <li class="nav-item"><a href="index.html" class="nav-link">首页</a></li>
            <li class="nav-item"><a href="about.html" class="nav-link">关于我们</a></li>
            <li class="nav-item"><a href="achievements.html" class="nav-link">成果展示</a></li>
            <li class="nav-item"><a href="suggest.html" class="nav-link">建议提案</a></li>
            <li class="nav-item"><a href="login.html" class="nav-link">登录</a></li>
        </ul>
    </header>

    <!-- 建议提案表单（增强验证） -->
    <div class="suggest-container">
        <h2 class="section-title">乡村振兴建议提案</h2>
        <form id="suggestForm">
            <div class="form-item">
                <label for="name">姓名</label>
                <input type="text" id="name" placeholder="请输入您的姓名" required>
                <div class="error-tip" id="nameTip">请输入真实姓名（2-8个字符）</div>
            </div>
            <div class="form-item">
                <label for="contact">联系方式</label>
                <input type="text" id="contact" placeholder="请输入您的电话或邮箱" required>
                <div class="error-tip" id="contactTip">请输入有效的手机号（11位数字）或邮箱</div>
            </div>
            <div class="form-item">
                <label for="village">涉及乡村</label>
                <select id="village" required>
                    <option value="">请选择乡村</option>
                    <option value="良坊镇">良坊镇</option>
                    <option value="琴亭镇">琴亭镇</option>
                    <option value="坊楼镇">坊楼镇</option>
                    <option value="升坊镇">升坊镇</option>
                </select>
                <div class="error-tip" id="villageTip">请选择涉及的乡村</div>
            </div>
            <div class="form-item">
                <label for="type">建议类型</label>
                <select id="type" required>
                    <option value="">请选择建议类型</option>
                    <option value="产业发展">产业发展</option>
                    <option value="基础设施">基础设施</option>
                    <option value="文化建设">文化建设</option>
                    <option value="生态保护">生态保护</option>
                    <option value="其他">其他</option>
                </select>
                <div class="error-tip" id="typeTip">请选择建议类型</div>
            </div>
            <div class="form-item">
                <label for="content">建议内容</label>
                <textarea id="content" placeholder="请详细描述您的建议..." required></textarea>
                <div class="error-tip" id="contentTip">建议内容不能为空（至少10个字符）</div>
            </div>
            <button type="submit" class="btn submit-btn">提交建议</button>
        </form>
    </div>

    <script src="common.js"></script>
    <script>
        // 建议提案表单验证 + 提交逻辑
        document.getElementById('suggestForm').addEventListener('submit', function (e) {
            e.preventDefault();

            // 验证规则
            const rules = {
                name: {
                    required: true,
                    reg: /^[\u4e00-\u9fa5a-zA-Z]{2,8}$/,
                    tip: '请输入真实姓名（2-8个字符，支持中文/英文）'
                },
                contact: {
                    required: true,
                    reg: /^(1[3-9]\d{9})$|^([a-zA-Z0-9._%-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,})$/,
                    tip: '请输入有效的手机号（11位数字）或邮箱'
                },
                village: {
                    required: true,
                    tip: '请选择涉及的乡村'
                },
                type: {
                    required: true,
                    tip: '请选择建议类型'
                },
                content: {
                    required: true,
                    reg: /^.{10,}$/,
                    tip: '建议内容不能为空（至少10个字符）'
                }
            };

            // 执行验证
            if (validateForm('suggestForm', rules)) {
                // 模拟提交
                const submitBtn = document.querySelector('.submit-btn');
                submitBtn.disabled = true;
                submitBtn.textContent = '提交中...';

                setTimeout(() => {
                    alert("建议提交成功！感谢您的宝贵意见，我们会尽快处理。");
                    this.reset();
                    submitBtn.disabled = false;
                    submitBtn.textContent = '提交建议';
                }, 1000);
            }
        });

        // 实时验证（输入时触发）
        const formFields = ['name', 'contact', 'content'];
        formFields.forEach(fieldId => {
            const field = document.getElementById(fieldId);
            field.addEventListener('input', () => {
                // 清空错误提示
                document.getElementById(`${fieldId}Tip`).style.display = 'none';
            });
        });
    </script>
</body>

</html>